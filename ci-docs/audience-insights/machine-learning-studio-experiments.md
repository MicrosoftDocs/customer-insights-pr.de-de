---
title: Machine Learning Studio (Classic) Experimente
description: Verwenden Sie Machine Learning Studio (Classic) Modelle in Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 556b6810db0ed2733a3f086291757bd85b77e371
ms.sourcegitcommit: a9b2cf598f256d07a48bba8617347ee90024a1dd
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/03/2020
ms.locfileid: "4669017"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="788ad-103">Verwenden Sie Modelle, die auf Azure Machine Learning Studio (Classic) basieren</span><span class="sxs-lookup"><span data-stu-id="788ad-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="788ad-104">Die vereinheitlichten Daten in Dynamics 365 Customer Insights sind eine Quelle für den Aufbau von Machine-Learning-Modellen, die zusätzliche Geschäftseinblicke generieren können.</span><span class="sxs-lookup"><span data-stu-id="788ad-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="788ad-105">Customer Insights integriert sich mit Machine Learning Studio (Classic), um Ihre eigenen benutzerdefinierten Modelle zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="788ad-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="788ad-106">Um zu sehen, wie in Azure Machine Learning entwickelte Modelle in Customer Insights integriert werden, siehe [Azure Machine Learning Experimente](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="788ad-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="788ad-107">Anforderungen</span><span class="sxs-lookup"><span data-stu-id="788ad-107">Prerequisites</span></span>

- <span data-ttu-id="788ad-108">Zugriff auf Customer Insights</span><span class="sxs-lookup"><span data-stu-id="788ad-108">Access to Customer Insights</span></span>
- <span data-ttu-id="788ad-109">Ein aktives Azure-Enterprise-Abonnement</span><span class="sxs-lookup"><span data-stu-id="788ad-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="788ad-110">Vereinheitlichte Kundenprofile</span><span class="sxs-lookup"><span data-stu-id="788ad-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="788ad-111">[Entitätsexport in den Azure Blob-Speicher](export-azure-blob-storage.md) Einrichtung</span><span class="sxs-lookup"><span data-stu-id="788ad-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="788ad-112">Machine Learning Studio Classic einrichten</span><span class="sxs-lookup"><span data-stu-id="788ad-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="788ad-113">In einem ersten Schritt müssen wir einen Arbeitsbereich für das Machine Learning Studio (Classic) erstellen und öffnen.</span><span class="sxs-lookup"><span data-stu-id="788ad-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="788ad-114">Wechseln Sie zu [https://www.portal.azure.com](https://www.portal.azure.com/), und melden Sie sich an.</span><span class="sxs-lookup"><span data-stu-id="788ad-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="788ad-115">Wählen Sie **Ressource erstellen** aus.</span><span class="sxs-lookup"><span data-stu-id="788ad-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="788ad-116">Suche nach **Machine Learning Studio Arbeitsbereich** und **Erstellen** wählen.</span><span class="sxs-lookup"><span data-stu-id="788ad-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="788ad-117">Geben Sie die erforderlichen Details ein für [Arbeitsbereich erstellen](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="788ad-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="788ad-118">Wählen Sie die **Preisstufe des Webservice-Plans** basierend auf der Datenmenge, die Sie importieren wollen.</span><span class="sxs-lookup"><span data-stu-id="788ad-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="788ad-119">Für eine optimale Leistung wählen Sie den **Standort**, der Ihnen geografisch am nächsten liegt.</span><span class="sxs-lookup"><span data-stu-id="788ad-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="788ad-120">Nach dem Erstellen der Ressource wird das Dashboard Machine Learning Studio Arbeitsbereich angezeigt.</span><span class="sxs-lookup"><span data-stu-id="788ad-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="788ad-121">Wählen Sie **Machine Learning Studio starten**.</span><span class="sxs-lookup"><span data-stu-id="788ad-121">Select **Launch Machine Learning Studio**.</span></span>

   ![Azure Machine Learning Studio Benutzeroberfläche](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="788ad-123">Arbeiten mit Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="788ad-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="788ad-124">Sie können jetzt ein neues Experiment erstellen oder eine vorhandene Experimentvorlage aus der Beispielgalerie importieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="788ad-125">Es gibt Beispielexperimente für drei Standardszenarien:</span><span class="sxs-lookup"><span data-stu-id="788ad-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="788ad-126">Churn Vorhersage</span><span class="sxs-lookup"><span data-stu-id="788ad-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="788ad-127">Langfristiger Kundenwert</span><span class="sxs-lookup"><span data-stu-id="788ad-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="788ad-128">Produktempfehlung oder nächstbeste Aktion</span><span class="sxs-lookup"><span data-stu-id="788ad-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="788ad-129">Wenn Sie ein neues Experiment erstellen oder eine Experimentvorlage aus der Galerie verwenden, müssen Sie die Eigenschaften **Daten importieren** konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="788ad-130">Verwenden Sie die Anleitung oder geben Sie direkt Details an, um auf den Azure Blob storage zuzugreifen, der Ihre Daten enthält.</span><span class="sxs-lookup"><span data-stu-id="788ad-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![Experiment mit Azure Machine Learning Studio](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="788ad-132">Jetzt können Sie eine benutzerdefinierte Verarbeitungspipeline erstellen, um die Daten zu bereinigen und vorzuverarbeiten, Features zu extrahieren und ein geeignetes Modell zu trainieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="788ad-133">Modellleistung testen und optimieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="788ad-134">Wenn Sie mit der Qualität eines Modells zufrieden sind, wählen Sie **Richten Sie den Webdienst ein** > **Vorhersage-Webdienst**.</span><span class="sxs-lookup"><span data-stu-id="788ad-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="788ad-135">Diese Option importiert das trainierte Modell und die Funktions-Pipeline aus dem Trainingsexperiment in einen Vorhersagedienst.</span><span class="sxs-lookup"><span data-stu-id="788ad-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="788ad-136">Der Vorhersagedienst kann einen anderen Satz von Eingabedaten mit dem im Trainingsexperiment verwendeten Schema verwenden, um Vorhersagen zu treffen.</span><span class="sxs-lookup"><span data-stu-id="788ad-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![Richten Sie einen Vorhersage-Webdienst ein](media/predictive-webservice-control.png)

1. <span data-ttu-id="788ad-138">Sobald das Vorhersage-Webdienst-Experiment erfolgreich ist, können Sie es für die automatische Planung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="788ad-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="788ad-139">Wählen Sie aus, damit der Webdienst mit Customer Insights funktioniert **Stellen Sie den Webdienst bereit** > **Vorschau Webdienst [Neu] bereitstellen**.</span><span class="sxs-lookup"><span data-stu-id="788ad-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="788ad-140">[Weitere Informationen zum Bereitstellen eines Webdienstes](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="788ad-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![Vorhersage-Webdienst bereitstellen](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="788ad-142">Beispielmodelle aus der Galerie</span><span class="sxs-lookup"><span data-stu-id="788ad-142">Sample models from the gallery</span></span>

<span data-ttu-id="788ad-143">Für die Modelle in diesem Artikel verwenden wir ein fiktives Szenario von Contoso Hotel.</span><span class="sxs-lookup"><span data-stu-id="788ad-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="788ad-144">Das Contoso Hotel sammelt folgende Daten:</span><span class="sxs-lookup"><span data-stu-id="788ad-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="788ad-145">CRM-Daten, bestehend aus Hotelaufenthaltsaktivität.</span><span class="sxs-lookup"><span data-stu-id="788ad-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="788ad-146">Das Dataset enthält Informationen zu den Aufenthaltsdaten für jeden registrierten Kunden.</span><span class="sxs-lookup"><span data-stu-id="788ad-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="788ad-147">Es enthält auch Informationen zur Buchung, Zimmertypen, Details zu den Ausgaben usw.</span><span class="sxs-lookup"><span data-stu-id="788ad-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="788ad-148">Die Daten erstrecken sich über vier Jahre von Januar 2014 bis Januar 2018.</span><span class="sxs-lookup"><span data-stu-id="788ad-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="788ad-149">Kundenprofile von Hotelgästen.</span><span class="sxs-lookup"><span data-stu-id="788ad-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="788ad-150">Diese Profile enthalten Informationen zu jedem Kunden, einschließlich Name, Geburtsdatum, Postanschrift, Geschlecht und Telefonnummer.</span><span class="sxs-lookup"><span data-stu-id="788ad-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="788ad-151">Nutzung der vom Hotel angebotenen Dienstleistungen wie Spa, Wäscherei, WLAN oder Kurier.</span><span class="sxs-lookup"><span data-stu-id="788ad-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="788ad-152">Diese Informationen werden für jeden registrierten Kunden protokolliert.</span><span class="sxs-lookup"><span data-stu-id="788ad-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="788ad-153">In der Regel ist die Nutzung der Dienste mit dem Aufenthalt verbunden.</span><span class="sxs-lookup"><span data-stu-id="788ad-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="788ad-154">In einigen Fällen können Dienste von Kunden genutzt werden, ohne im Hotel zu bleiben.</span><span class="sxs-lookup"><span data-stu-id="788ad-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="788ad-155">Abwanderungsanalyse</span><span class="sxs-lookup"><span data-stu-id="788ad-155">Churn Analysis</span></span>

<span data-ttu-id="788ad-156">Die Abwanderungsanalyse gilt für verschiedene Geschäftsbereiche.</span><span class="sxs-lookup"><span data-stu-id="788ad-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="788ad-157">In diesem Beispiel werden wir uns die Service-Abwanderung ansehen, speziell im Zusammenhang mit den oben beschriebenen Hoteldienstleistungen.</span><span class="sxs-lookup"><span data-stu-id="788ad-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="788ad-158">Es bietet ein funktionierendes Beispiel für eine End-to-End-Modell-Pipeline, die als Ausgangspunkt für jede andere Art von Churn-Modell verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="788ad-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="788ad-159">Definition von Abwanderung</span><span class="sxs-lookup"><span data-stu-id="788ad-159">Definition of Churn</span></span>

<span data-ttu-id="788ad-160">Die Definition der Abwanderung kann je nach Szenario unterschiedlich sein.</span><span class="sxs-lookup"><span data-stu-id="788ad-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="788ad-161">In diesem Beispiel soll ein Gast, der das Hotel im letzten Jahr nicht besucht hat, als abgewandert gekennzeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="788ad-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="788ad-162">Die Experimentvorlage kann aus dem Katalog importiert werden.</span><span class="sxs-lookup"><span data-stu-id="788ad-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="788ad-163">Stellen Sie zunächst sicher, dass Sie die Daten für **Hotelaufenthaltsaktivität**, **Kundendaten** und **Service-Nutzungsdaten** aus dem Azure Blob storage importieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![Importieren Sie Daten für das Abwanderungsmodell](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="788ad-165">Funktionenbereitstellung</span><span class="sxs-lookup"><span data-stu-id="788ad-165">Featurization</span></span>

<span data-ttu-id="788ad-166">Basierend auf der Definition von „Churn“ identifizieren wir zunächst die Roh-Features, die das Label beeinflussen werden.</span><span class="sxs-lookup"><span data-stu-id="788ad-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="788ad-167">Anschließend verarbeiten wir diese Grundfunktionen zu numerischen Funktionen, die mit Machine Learning Modellen verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="788ad-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="788ad-168">Die Datenintegration erfolgt in Customer Insights, sodass wir diese Tabellen über die *Kunden-ID* verbinden können.</span><span class="sxs-lookup"><span data-stu-id="788ad-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![Importierte Daten verbinden](media/join-imported-data.png)

<span data-ttu-id="788ad-170">Die Funktion zur Erstellung des Modells für die Abwanderungsanalyse kann ein wenig knifflig sein.</span><span class="sxs-lookup"><span data-stu-id="788ad-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="788ad-171">Die Daten sind eine Funktion der Zeit, wobei täglich neue Hotelaktivitäten aufgezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="788ad-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="788ad-172">Während der Anpassung möchten wir statische Funktionen aus den dynamischen Daten generieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="788ad-173">In diesem Fall erzeugen wir mehrere Funktionen aus der Hotelaktivität mit einem gleitenden Fenster von einem Jahr.</span><span class="sxs-lookup"><span data-stu-id="788ad-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="788ad-174">Wir erweitern auch die kategorialen Funktionen wie Zimmertyp oder Buchungstyp mithilfe der One-Hot-Codierung in separate Funktionen.</span><span class="sxs-lookup"><span data-stu-id="788ad-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="788ad-175">Endgültige Liste der Funktionen:</span><span class="sxs-lookup"><span data-stu-id="788ad-175">Final list of features:</span></span>

| <span data-ttu-id="788ad-176">**Zahl**</span><span class="sxs-lookup"><span data-stu-id="788ad-176">**Number**</span></span>  | <span data-ttu-id="788ad-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="788ad-177">**Original_Column**</span></span>          | <span data-ttu-id="788ad-178">**Abgeleitete Funktionen**</span><span class="sxs-lookup"><span data-stu-id="788ad-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="788ad-179">1</span><span class="sxs-lookup"><span data-stu-id="788ad-179">1</span></span>           | <span data-ttu-id="788ad-180">Zimmertyp</span><span class="sxs-lookup"><span data-stu-id="788ad-180">Room Type</span></span>                    | <span data-ttu-id="788ad-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="788ad-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="788ad-182">2</span><span class="sxs-lookup"><span data-stu-id="788ad-182">2</span></span>           | <span data-ttu-id="788ad-183">Buchungstyp</span><span class="sxs-lookup"><span data-stu-id="788ad-183">Booking Type</span></span>                 | <span data-ttu-id="788ad-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="788ad-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="788ad-185">3</span><span class="sxs-lookup"><span data-stu-id="788ad-185">3</span></span>           | <span data-ttu-id="788ad-186">Reisekategorie</span><span class="sxs-lookup"><span data-stu-id="788ad-186">Travel Category</span></span>              | <span data-ttu-id="788ad-187">ReiseKategorieGeschäftsreiseZahl, ReiseKategorieFreizeitZahl</span><span class="sxs-lookup"><span data-stu-id="788ad-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="788ad-188">4</span><span class="sxs-lookup"><span data-stu-id="788ad-188">4</span></span>           | <span data-ttu-id="788ad-189">Dollar ausgegeben</span><span class="sxs-lookup"><span data-stu-id="788ad-189">Dollars Spent</span></span>                | <span data-ttu-id="788ad-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="788ad-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="788ad-191">5</span><span class="sxs-lookup"><span data-stu-id="788ad-191">5</span></span>           | <span data-ttu-id="788ad-192">Check-In- und Check-Out-Daten</span><span class="sxs-lookup"><span data-stu-id="788ad-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="788ad-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="788ad-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="788ad-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="788ad-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="788ad-195">6</span><span class="sxs-lookup"><span data-stu-id="788ad-195">6</span></span>           | <span data-ttu-id="788ad-196">Service-Verbrauch</span><span class="sxs-lookup"><span data-stu-id="788ad-196">Service Usage</span></span>                | <span data-ttu-id="788ad-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="788ad-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="788ad-198">Modellauswahl</span><span class="sxs-lookup"><span data-stu-id="788ad-198">Model selection</span></span>

<span data-ttu-id="788ad-199">Jetzt müssen wir den optimalen Algorithmus auswählen.</span><span class="sxs-lookup"><span data-stu-id="788ad-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="788ad-200">In diesem Fall basieren die meisten Funktionen auf kategorialen Funktionen.</span><span class="sxs-lookup"><span data-stu-id="788ad-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="788ad-201">Typischerweise funktionieren entscheidungsbaumbasierte Modelle gut.</span><span class="sxs-lookup"><span data-stu-id="788ad-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="788ad-202">Wenn es nur numerische Funktionen gibt, könnten neuronale Netzwerke eine bessere Wahl sein.</span><span class="sxs-lookup"><span data-stu-id="788ad-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="788ad-203">Support Vector Machine (SVM) ist auch in solchen Situationen ein guter Kandidat. Es ist jedoch einiges an Abstimmung erforderlich, um die beste Leistung zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="788ad-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="788ad-204">Wir wählen **Zwei-Klassen-Boosted-Entscheidungsbaum** als das erste Modell der Wahl, gefolgt von **Zwei-Klassen-SVM** als zweites Modell.</span><span class="sxs-lookup"><span data-stu-id="788ad-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="788ad-205">Mit Azure Machine Learning Studio können Sie A/B-Tests durchführen, sodass es von Vorteil ist, mit zwei Modellen statt mit einem zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="788ad-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="788ad-206">Das folgende Bild zeigt die Modellschulungs- und Evaluierungspipeline von Azure Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="788ad-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![Abwanderungsmodell in Azure Machine Learning Studio](media/azure-machine-learning-model.png)

<span data-ttu-id="788ad-208">Wir wenden auch eine Technik namens **Wichtigkeit der Permutationsfunktion** an, ein wichtiger Aspekt der Modelloptimierung.</span><span class="sxs-lookup"><span data-stu-id="788ad-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="788ad-209">Eingebaute Modelle haben wenig bis gar keinen Einblick in die Auswirkungen bestimmter Funktionen auf die endgültige Vorhersage.</span><span class="sxs-lookup"><span data-stu-id="788ad-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="788ad-210">Der Rechner für die Wichtigkeit der Funktionen verwendet einen benutzerdefinierten Algorithmus, um den Einfluss der einzelnen Funktionen auf das Ergebnis für ein bestimmtes Modell zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="788ad-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="788ad-211">Die Merkmalsbedeutung wird zwischen +1 und -1 normalisiert.</span><span class="sxs-lookup"><span data-stu-id="788ad-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="788ad-212">Ein negativer Einfluss bedeutet, dass das entsprechende Merkmal einen kontra-intuitiven Einfluss auf das Ergebnis hat und aus dem Modell entfernt werden sollte.</span><span class="sxs-lookup"><span data-stu-id="788ad-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="788ad-213">Ein positiver Einfluss zeigt an, dass die Funktion einen großen Beitrag zur Vorhersage leistet.</span><span class="sxs-lookup"><span data-stu-id="788ad-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="788ad-214">Diese Werte sind keine Korrelationskoeffizienten, da es sich um unterschiedliche Metriken handelt.</span><span class="sxs-lookup"><span data-stu-id="788ad-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="788ad-215">Weitere Informationen finden Sie unter [Permutation Funktion Wichtigkeit](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="788ad-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="788ad-216">Das gesamte [Kundenabwanderungs-Experiment ist im Azure AI Katalog](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp) verfügbar.</span><span class="sxs-lookup"><span data-stu-id="788ad-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="788ad-217">Benutzerdefinierte Lebensdauer-Wert-Vorhersage</span><span class="sxs-lookup"><span data-stu-id="788ad-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="788ad-218">Die Berechnung des Customer Lifetime Value (CLTV) ist eine der wichtigsten Metriken, die ein Unternehmen zur Bewertung und Segmentierung seiner Kunden verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="788ad-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="788ad-219">Für die Hotellerie ist es wichtig, ihre Kunden zu kennen.</span><span class="sxs-lookup"><span data-stu-id="788ad-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="788ad-220">Zum Beispiel ist das Verständnis der Faktoren, die gute Kunden ausmachen, eine entscheidende Information.</span><span class="sxs-lookup"><span data-stu-id="788ad-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="788ad-221">Es hilft dem Hotelmanagement bei der Beurteilung, auf welche Funktionen sie sich konzentrieren und diese verbessern müssen, um ihre hoch zahlenden Kunden zufrieden zu stellen.</span><span class="sxs-lookup"><span data-stu-id="788ad-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="788ad-222">Diese Entscheidungen können sich direkt auf Umsatz und Ergebnis auswirken.</span><span class="sxs-lookup"><span data-stu-id="788ad-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="788ad-223">Definition von CLTV</span><span class="sxs-lookup"><span data-stu-id="788ad-223">Definition of CLTV</span></span>

<span data-ttu-id="788ad-224">Für dieses Beispiel definieren wir den CLTV eines Kunden als den gesamten Dollarbetrag, den der Kunde voraussichtlich in den nächsten 365 Tagen ausgeben wird.</span><span class="sxs-lookup"><span data-stu-id="788ad-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="788ad-225">Wir werden die Daten der letzten drei Jahre für alle Kunden verwenden, um diesen Wert vorherzusagen.</span><span class="sxs-lookup"><span data-stu-id="788ad-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="788ad-226">Funktionenbereitstellung</span><span class="sxs-lookup"><span data-stu-id="788ad-226">Featurization</span></span>

<span data-ttu-id="788ad-227">In diesem Fall wird die Funktionenbereitstellung dem Abwanderungsszenario sehr ähnlich sein.</span><span class="sxs-lookup"><span data-stu-id="788ad-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="788ad-228">Die Labels und vorhergesagten Werte sind jedoch anders als oben definiert.</span><span class="sxs-lookup"><span data-stu-id="788ad-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="788ad-229">Modellauswahl</span><span class="sxs-lookup"><span data-stu-id="788ad-229">Model selection</span></span>

<span data-ttu-id="788ad-230">Die Vorhersage des CLTV ist ein Regressionsproblem, da der vorhergesagte Wert eine kontinuierlich bewertete Variable mit positivem Wert ist.</span><span class="sxs-lookup"><span data-stu-id="788ad-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="788ad-231">Basierend auf den Funktionseigenschaften wählen wir **Regression mit verstärktem Entscheidungsbaum** als einen Algorithmus und **Regression über neurales Netzwerk** als einen weiteren Algorithmus zum Trainieren des Modells.</span><span class="sxs-lookup"><span data-stu-id="788ad-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="788ad-232">Produktempfehlung oder nächstbeste Aktion</span><span class="sxs-lookup"><span data-stu-id="788ad-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="788ad-233">Die Produktempfehlung in einem Hotelszenario wird als Empfehlung der vom Hotel angebotenen Dienstleistungen an die Kunden interpretiert.</span><span class="sxs-lookup"><span data-stu-id="788ad-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="788ad-234">Ziel ist es, die geeigneten Services für Kunden auszuwählen, damit deren Nutzung maximiert wird.</span><span class="sxs-lookup"><span data-stu-id="788ad-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="788ad-235">Es ähnelt den Filmempfehlungen für Benutzer von Video-Streaming-Diensten.</span><span class="sxs-lookup"><span data-stu-id="788ad-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="788ad-236">Definition der Produktempfehlung oder nächstbeste Aktion</span><span class="sxs-lookup"><span data-stu-id="788ad-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="788ad-237">Wir definieren das Ziel als Maximierung der Service-Nutzung in US-Dollar, indem wir Hotelkunden die am besten passenden Services entsprechend ihren Interessen anbieten.</span><span class="sxs-lookup"><span data-stu-id="788ad-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="788ad-238">Funktionenbereitstellung</span><span class="sxs-lookup"><span data-stu-id="788ad-238">Featurization</span></span>

<span data-ttu-id="788ad-239">Wie beim Churn-Modell verbinden wir das Hotel ServiceCustomerID mit CustomerID, um Empfehlungen konsistent pro CustomerID zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="788ad-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![Ausstattung des Empfehlungsmodells](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="788ad-241">Die Daten stammen von drei verschiedenen Entitäten und Funktionen werden daraus abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="788ad-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="788ad-242">Die Funktion für das Empfehlungsproblem unterscheidet sich von Abwanderungs- oder CLTV-Szenarien.</span><span class="sxs-lookup"><span data-stu-id="788ad-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="788ad-243">Das Empfehlungsmodell benötigt Eingabedaten in Form von drei Sätzen von Funktionen.</span><span class="sxs-lookup"><span data-stu-id="788ad-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="788ad-244">Modellauswahl</span><span class="sxs-lookup"><span data-stu-id="788ad-244">Model selection</span></span>

<span data-ttu-id="788ad-245">Wir sagen Produkte oder Dienstleistungen voraus, indem wir den Algorithmus **Übereinstimmungsemfehlung trainieren** verwenden, um das Empfehlungsmodell zu trainieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![Produktempfehlungen-Algorithmus](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="788ad-247">Die drei Eingänge für das Modell **Übereinstimmungsemfehlung trainieren** nehmen die Trainingsdaten der Servicenutzung, die Kundenbeschreibung (optional) und die Servicebeschreibung auf.</span><span class="sxs-lookup"><span data-stu-id="788ad-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="788ad-248">Es gibt drei verschiedene Arten, das Modell zu bewerten.</span><span class="sxs-lookup"><span data-stu-id="788ad-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="788ad-249">Eine ist für die Modellbewertung, bei der ein NDCG-Wert (Normalized Discounted Cumulative Gain) berechnet wird, um die bewerteten Elemente in eine Rangfolge zu bringen.</span><span class="sxs-lookup"><span data-stu-id="788ad-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="788ad-250">In diesem Experiment haben wir den NDCG-Score als 0.97.</span><span class="sxs-lookup"><span data-stu-id="788ad-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="788ad-251">Die anderen beiden Optionen sind die Bewertung des Modells für den gesamten Katalog empfehlenswerter Dienste oder die Bewertung nur für Elemente, die Benutzer noch nicht verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="788ad-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="788ad-252">Wenn wir uns die Verteilung der Empfehlungen auf den gesamten Servicekatalog genauer ansehen, stellen wir fest, dass Telefon, WiFi und Kurier die am häufigsten empfohlenen Services sind.</span><span class="sxs-lookup"><span data-stu-id="788ad-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="788ad-253">Dies steht im Einklang mit dem, was wir aus den Verteilungen der Dienstverbrauchsdaten herausgefunden haben:</span><span class="sxs-lookup"><span data-stu-id="788ad-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![Empfehlungsmodell-Ausgabe](media/azure-machine-learning-model-output.png)

<span data-ttu-id="788ad-255">Auf das gesamte [Produktempfehlungs-Experiment kann in der Azure AI Gallery zugegriffen werden.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="788ad-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="788ad-256">Integrieren Sie benutzerdefinierte Modelle</span><span class="sxs-lookup"><span data-stu-id="788ad-256">Integrate custom models</span></span>

<span data-ttu-id="788ad-257">Um diese Vorhersagen in Customer Insights zu verwenden, müssen Sie die Vorhersagen zusammen mit den Kunden-IDs **exportieren**.</span><span class="sxs-lookup"><span data-stu-id="788ad-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="788ad-258">[Exportieren Sie sie an denselben Azure Blob-Speicherort](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs), an den Sie die Quelldaten exportieren.</span><span class="sxs-lookup"><span data-stu-id="788ad-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="788ad-259">Der Predictive Web Service kann so geplant werden, dass er regelmäßig ausgeführt wird und die Ergebnisse aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="788ad-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="788ad-260">Die vom benutzerdefinierten Modell generierten Daten können verwendet werden, um Ihre Kundendaten weiter anzureichern.</span><span class="sxs-lookup"><span data-stu-id="788ad-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="788ad-261">Weitere Informationen finden Sie unter [Benutzerdefinierte Machine Learning Modelle](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="788ad-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>
